{"ast":null,"code":"var _jsxFileName = \"/Users/dzennetahydyrova/board-project2/src/components/item/Item.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"antd/dist/antd.css\";\nimport { DeleteOutlined } from \"@ant-design/icons\";\nimport { Collapse } from \"antd\";\nimport db from \"../../firebaseConfig\";\nimport { Checkbox, Button, Col } from \"antd\";\nimport \"antd/dist/antd.css\";\nimport \"moment/locale/zh-cn\";\nimport EditForm from \"../EditForm/EditForm\";\n\nconst Item = ({\n  task,\n  boardsId,\n  boardsItems\n}) => {\n  const currentDate = new Date();\n  currentDate.setDate(currentDate.getDate() + 1);\n  const [showResults, setShowResults] = React.useState(true);\n  const [userInput, setUserInput] = useState({\n    title: task.title,\n    due: task.due,\n    assigner: task.assigner,\n    assignee: task.assignee,\n    id: task.id,\n    completed: task.completed\n  });\n  const {\n    Panel\n  } = Collapse;\n  const [modalOpened, setModalOpened] = useState({\n    modalOpen: false\n  });\n  const [editedTask, setEditedTask] = useState(task);\n  const style = {\n    items: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"space-between\"\n    }\n  };\n\n  const handleClick = e => {\n    db.firestore().collection(\"boards\").doc(boardsId).update({\n      items: db.firestore.FieldValue.arrayRemove(task)\n    });\n  };\n\n  useEffect(() => {\n    setEditedTask(userInput);\n  }, [userInput]);\n\n  const handleModal = () => {\n    setModalOpened({\n      modalOpen: modalOpened.modalOpen === true ? false : true\n    });\n  };\n\n  const completeHandler = e => {\n    e.preventDefault();\n    completeStatus();\n    setShowResults(false);\n  };\n\n  const completeStatus = async () => {\n    const modifiedItems = [...boardsItems];\n    const itemIndex = modifiedItems.findIndex(item => item.id === task.id);\n    modifiedItems[itemIndex].completed = !modifiedItems[itemIndex].completed;\n    await db.firestore().collection(\"boards\").doc(boardsId).update({\n      items: modifiedItems\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: style.items,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Collapse, {\n    className: \"item-title\",\n    defaultActiveKey: [\"1\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Panel, {\n    header: task.title,\n    key: task.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"item-element\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, \"Assigner: \", task.assigner), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"item-element\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, \"Assignee: \", task.assignee), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"item-element\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, \"Due date: \", task.due), /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-info\",\n    type: \"submit\",\n    size: \"sm\",\n    onClick: e => handleModal(e),\n    className: \"form-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, \"Edit\"), /*#__PURE__*/React.createElement(EditForm, {\n    task: task,\n    boardsId: boardsId,\n    boardsItems: boardsItems,\n    modalOpened: modalOpened,\n    editTask: editedTask,\n    setModalOpened: setModalOpened,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    style: {\n      marginLeft: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DeleteOutlined, {\n    style: {\n      cursor: \"pointer\"\n    },\n    onClick: e => handleClick(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Checkbox, {\n    onClick: e => completeHandler(e),\n    checked: task.completed === true ? true : false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default Item;","map":{"version":3,"sources":["/Users/dzennetahydyrova/board-project2/src/components/item/Item.js"],"names":["React","useState","useEffect","DeleteOutlined","Collapse","db","Checkbox","Button","Col","EditForm","Item","task","boardsId","boardsItems","currentDate","Date","setDate","getDate","showResults","setShowResults","userInput","setUserInput","title","due","assigner","assignee","id","completed","Panel","modalOpened","setModalOpened","modalOpen","editedTask","setEditedTask","style","items","display","flexDirection","justifyContent","handleClick","e","firestore","collection","doc","update","FieldValue","arrayRemove","handleModal","completeHandler","preventDefault","completeStatus","modifiedItems","itemIndex","findIndex","item","marginLeft","cursor"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"antd/dist/antd.css\";\nimport { DeleteOutlined } from \"@ant-design/icons\";\nimport { Collapse } from \"antd\";\nimport db from \"../../firebaseConfig\";\nimport { Checkbox, Button, Col } from \"antd\";\nimport \"antd/dist/antd.css\";\nimport \"moment/locale/zh-cn\";\nimport EditForm from \"../EditForm/EditForm\";\n\nconst Item = ({ task, boardsId, boardsItems }) => {\n  const currentDate = new Date();\n  currentDate.setDate(currentDate.getDate() + 1);\n\n  const [showResults, setShowResults] = React.useState(true);\n  const [userInput, setUserInput] = useState({\n    title: task.title,\n    due: task.due,\n    assigner: task.assigner,\n    assignee: task.assignee,\n    id: task.id,\n    completed: task.completed,\n  });\n\n  const { Panel } = Collapse;\n  const [modalOpened, setModalOpened] = useState({ modalOpen: false });\n  const [editedTask, setEditedTask] = useState(task);\n\n  const style = {\n    items: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"space-between\",\n    },\n  };\n\n  const handleClick = (e) => {\n    db.firestore()\n      .collection(\"boards\")\n      .doc(boardsId)\n      .update({\n        items: db.firestore.FieldValue.arrayRemove(task),\n      });\n  };\n\n  useEffect(() => {\n    setEditedTask(userInput);\n  }, [userInput]);\n\n  const handleModal = () => {\n    setModalOpened({\n      modalOpen: modalOpened.modalOpen === true ? false : true,\n    });\n  };\n\n  const completeHandler = (e) => {\n    e.preventDefault();\n    completeStatus();\n    setShowResults(false);\n  };\n\n  const completeStatus = async () => {\n    const modifiedItems = [...boardsItems];\n    const itemIndex = modifiedItems.findIndex((item) => item.id === task.id);\n    modifiedItems[itemIndex].completed = !modifiedItems[itemIndex].completed;\n    await db.firestore().collection(\"boards\").doc(boardsId).update({\n      items: modifiedItems,\n    });\n  };\n\n  return (\n    <div style={style.items}>\n      <Collapse className=\"item-title\" defaultActiveKey={[\"1\"]}>\n        <Panel header={task.title} key={task.id}>\n          <p className=\"item-element\">Assigner: {task.assigner}</p>\n          <p className=\"item-element\">Assignee: {task.assignee}</p>\n          <p className=\"item-element\">Due date: {task.due}</p>\n          <Button\n            variant=\"outline-info\"\n            type=\"submit\"\n            size=\"sm\"\n            onClick={(e) => handleModal(e)}\n            className=\"form-btn\"\n          >\n            Edit\n          </Button>\n          <EditForm\n            task={task}\n            boardsId={boardsId}\n            boardsItems={boardsItems}\n            modalOpened={modalOpened}\n            editTask={editedTask}\n            setModalOpened={setModalOpened}\n          />\n        </Panel>\n      </Collapse>\n      <Col style={{ marginLeft: \"1rem\" }}>\n        <DeleteOutlined\n          style={{ cursor: \"pointer\" }}\n          onClick={(e) => handleClick(e)}\n        />\n        <Checkbox\n          onClick={(e) => completeHandler(e)}\n          checked={task.completed === true ? true : false}\n        ></Checkbox>\n      </Col>\n    </div>\n  );\n};\n\nexport default Item;\n"]},"metadata":{},"sourceType":"module"}