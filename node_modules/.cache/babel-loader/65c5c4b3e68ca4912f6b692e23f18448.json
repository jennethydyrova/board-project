{"ast":null,"code":"import _objectSpread from\"/Users/dzennetahydyrova/board-project2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/dzennetahydyrova/board-project2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/Users/dzennetahydyrova/board-project2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/Users/dzennetahydyrova/board-project2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/dzennetahydyrova/board-project2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import db from\"../../firebaseConfig\";import{DatePicker,message,Button,Form,Input}from\"antd\";import\"antd/dist/antd.css\";import\"moment/locale/zh-cn\";import moment from\"moment\";var ItemForm=function ItemForm(_ref){var boardsItems=_ref.boardsItems,boardsId=_ref.boardsId;var currentDate=new Date();currentDate.setDate(currentDate.getDate());var defaultDate=currentDate.toISOString().substr(0,10);var _useState=useState(boardsItems),_useState2=_slicedToArray(_useState,2),items=_useState2[0],setItems=_useState2[1];var _useState3=useState({title:\"\",due:defaultDate,assigner:\"\",assignee:\"\",id:\"\",completed:false}),_useState4=_slicedToArray(_useState3,2),userInput=_useState4[0],setUserInput=_useState4[1];var itemId=db.firestore().collection(\"boards\").doc().id;useEffect(function(){setItems(boardsItems);},[boardsItems]);var addItem=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return db.firestore().collection(\"boards\").doc(boardsId).update({items:[].concat(_toConsumableArray(items),[userInput])});case 2:setItems([].concat(_toConsumableArray(items),[userInput]));case 3:case\"end\":return _context.stop();}}},_callee);}));return function addItem(){return _ref2.apply(this,arguments);};}();var handleInputValue=function handleInputValue(e){setUserInput(_objectSpread(_objectSpread({},userInput),{},{title:e.target.value,id:itemId}));};var handleDueChange=function handleDueChange(value){message.info(\"Selected Date: \".concat(value?value.format(\"YYYY-MM-DD\"):\"None\"));setUserInput(_objectSpread(_objectSpread({},userInput),{},{due:value===null?value:value.format(\"YYYY-MM-DD\")}));};var handleAssignerChange=function handleAssignerChange(e){setUserInput(_objectSpread(_objectSpread({},userInput),{},{assigner:e.target.value}));};var handleAssigneeChange=function handleAssigneeChange(e){setUserInput(_objectSpread(_objectSpread({},userInput),{},{assignee:e.target.value}));};var handleSubmit=function handleSubmit(e){e.preventDefault();addItem();setUserInput({title:\"\",id:\"\",due:defaultDate,assignee:\"\",assigner:\"\",completed:false});};var formStyle={marginTop:\"10px\"};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Form,{onSubmit:function onSubmit(e){return handleSubmit(e);}},/*#__PURE__*/React.createElement(Input,{name:\"items\",onChange:function onChange(e){return handleInputValue(e);},value:userInput.title,style:{width:\"85%\",marginTop:\"0.5rem\"},className:\"input-field item-input\",placeholder:\"Task title\"}),/*#__PURE__*/React.createElement(DatePicker,{style:{width:\"85%\",marginTop:\"0.5rem\"},onChange:function onChange(e){return handleDueChange(e);},value:userInput.due===null?\"\":moment(userInput.due),className:\"form-btn\"}),/*#__PURE__*/React.createElement(Input,{name:\"assigner\",style:{width:\"85%\",marginTop:\"0.5rem\"},onChange:function onChange(e){return handleAssignerChange(e);},value:userInput.assigner,className:\"input-field item-input\",placeholder:\"Assigner\"}),/*#__PURE__*/React.createElement(Input,{name:\"assignee\",style:{width:\"85%\",marginTop:\"0.5rem\"},onChange:function onChange(e){return handleAssigneeChange(e);},value:userInput.assignee,className:\"input-field item-input\",placeholder:\"Assignee\"}),/*#__PURE__*/React.createElement(Button,{variant:\"outline-info\",type:\"submit\",size:\"sm\",onClick:function onClick(e){return handleSubmit(e);},className:\"form-btn\",style:formStyle},\"Add item\")));};export default ItemForm;","map":{"version":3,"sources":["/Users/dzennetahydyrova/board-project2/src/components/item/ItemForm.js"],"names":["React","useState","useEffect","db","DatePicker","message","Button","Form","Input","moment","ItemForm","boardsItems","boardsId","currentDate","Date","setDate","getDate","defaultDate","toISOString","substr","items","setItems","title","due","assigner","assignee","id","completed","userInput","setUserInput","itemId","firestore","collection","doc","addItem","update","handleInputValue","e","target","value","handleDueChange","info","format","handleAssignerChange","handleAssigneeChange","handleSubmit","preventDefault","formStyle","marginTop","width"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport db from \"../../firebaseConfig\";\nimport { DatePicker, message, Button, Form, Input } from \"antd\";\nimport \"antd/dist/antd.css\";\nimport \"moment/locale/zh-cn\";\nimport moment from \"moment\";\n\nconst ItemForm = ({ boardsItems, boardsId }) => {\n  const currentDate = new Date();\n  currentDate.setDate(currentDate.getDate());\n  const defaultDate = currentDate.toISOString().substr(0, 10);\n\n  const [items, setItems] = useState(boardsItems);\n  const [userInput, setUserInput] = useState({\n    title: \"\",\n    due: defaultDate,\n    assigner: \"\",\n    assignee: \"\",\n    id: \"\",\n    completed: false,\n  });\n\n  const itemId = db.firestore().collection(\"boards\").doc().id;\n\n  useEffect(() => {\n    setItems(boardsItems);\n  }, [boardsItems]);\n\n  const addItem = async () => {\n    await db\n      .firestore()\n      .collection(\"boards\")\n      .doc(boardsId)\n      .update({\n        items: [...items, userInput],\n      });\n    setItems([...items, userInput]);\n  };\n\n  const handleInputValue = (e) => {\n    setUserInput({ ...userInput, title: e.target.value, id: itemId });\n  };\n\n  const handleDueChange = (value) => {\n    message.info(\n      `Selected Date: ${value ? value.format(\"YYYY-MM-DD\") : \"None\"}`\n    );\n\n    setUserInput({\n      ...userInput,\n      due: value === null ? value : value.format(\"YYYY-MM-DD\"),\n    });\n  };\n\n  const handleAssignerChange = (e) => {\n    setUserInput({ ...userInput, assigner: e.target.value });\n  };\n\n  const handleAssigneeChange = (e) => {\n    setUserInput({ ...userInput, assignee: e.target.value });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    addItem();\n    setUserInput({\n      title: \"\",\n      id: \"\",\n      due: defaultDate,\n      assignee: \"\",\n      assigner: \"\",\n      completed: false,\n    });\n  };\n\n  const formStyle = {\n    marginTop: \"10px\",\n  };\n\n  return (\n    <div>\n      <Form onSubmit={(e) => handleSubmit(e)}>\n        <Input\n          name=\"items\"\n          onChange={(e) => handleInputValue(e)}\n          value={userInput.title}\n          style={{ width: \"85%\", marginTop: \"0.5rem\" }}\n          className=\"input-field item-input\"\n          placeholder=\"Task title\"\n        />\n        <DatePicker\n          style={{ width: \"85%\", marginTop: \"0.5rem\" }}\n          onChange={(e) => handleDueChange(e)}\n          value={userInput.due === null ? \"\" : moment(userInput.due)}\n          className=\"form-btn\"\n        />\n        <Input\n          name=\"assigner\"\n          style={{ width: \"85%\", marginTop: \"0.5rem\" }}\n          onChange={(e) => handleAssignerChange(e)}\n          value={userInput.assigner}\n          className=\"input-field item-input\"\n          placeholder=\"Assigner\"\n        />\n        <Input\n          name=\"assignee\"\n          style={{ width: \"85%\", marginTop: \"0.5rem\" }}\n          onChange={(e) => handleAssigneeChange(e)}\n          value={userInput.assignee}\n          className=\"input-field item-input\"\n          placeholder=\"Assignee\"\n        />\n        <Button\n          variant=\"outline-info\"\n          type=\"submit\"\n          size=\"sm\"\n          onClick={(e) => handleSubmit(e)}\n          className=\"form-btn\"\n          style={formStyle}\n        >\n          Add item\n        </Button>\n      </Form>\n    </div>\n  );\n};\n\nexport default ItemForm;\n"]},"metadata":{},"sourceType":"module"}