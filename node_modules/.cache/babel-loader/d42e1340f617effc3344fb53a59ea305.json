{"ast":null,"code":"var _jsxFileName = \"/Users/dzennetahydyrova/board-project2/board-project/src/containers/boards/BoardsContainer.js\";\nimport React, { useState, useEffect } from \"react\";\nimport db from \"../../firebaseConfig\";\nimport Board from \"../../components/board/Board\";\nimport BoardsForm from \"../../components/boardForm/BoardForm\";\nimport { Container } from \"react-bootstrap\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport \"antd/dist/antd.css\";\nimport { Card } from \"antd\";\nimport Loading from \"../../components/board/Loading\";\nimport { byTitle, byTitleD, byDate, byDateD } from \"../../functions\";\nimport SortBy from '../../components/sortBy/SortBy';\n\nconst BoardsContainer = () => {\n  const [boards, setBoards] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [sortedBy, setSortedBy] = useState(\"title\");\n  useEffect(() => {\n    return db.collection(\"boards\").onSnapshot(snapshot => {\n      if (snapshot.docChanges().length === 0) {\n        setIsLoading(false);\n      }\n\n      snapshot.docChanges().forEach(change => {\n        if (change.type === \"added\") {\n          setBoards(prevBoards => [...prevBoards, { ...change.doc.data(),\n            id: change.doc.id\n          }]);\n          setIsLoading(false);\n        }\n\n        if (change.type === \"modified\") {\n          setBoards(prevBoards => {\n            const newArrBoards = [...prevBoards];\n            let index = newArrBoards.findIndex(el => el.id === change.doc.id);\n\n            if (index !== -1) {\n              newArrBoards[index] = { ...change.doc.data(),\n                id: change.doc.id\n              };\n            }\n\n            return newArrBoards;\n          });\n          setIsLoading(false);\n        }\n\n        if (change.type === \"removed\") {\n          setBoards(prevBoards => {\n            const newArrBoards = [...prevBoards];\n            let index = newArrBoards.findIndex(el => el.id === change.doc.id);\n\n            if (index !== -1) {\n              newArrBoards.splice(index, 1);\n            }\n\n            return newArrBoards;\n          });\n        }\n      });\n    });\n  }, []);\n\n  const sortBoards = sortBy => {\n    switch (sortedBy) {\n      case \"title\":\n        setBoards(prevBoards => {\n          const newBoards = [...prevBoards];\n          let newBoard = newBoards.sort(byTitle);\n          return newBoard;\n        });\n        break;\n\n      case \"dTitle\":\n        setBoards(prevBoards => {\n          const newBoards = [...prevBoards];\n          let newBoard = newBoards.sort(byTitleD);\n          return newBoard;\n        });\n        break;\n\n      case \"date\":\n        setBoards(prevBoards => {\n          const newBoards = [...prevBoards];\n          let newBoard = newBoards.sort(byDate);\n          return newBoard;\n        });\n        break;\n\n      case \"dDate\":\n        setBoards(prevBoards => {\n          const newBoards = [...prevBoards];\n          let newBoard = newBoards.sort(byDateD);\n          return newBoard;\n        });\n        break;\n\n      default:\n        setBoards(prevBoards => {\n          const newBoards = [...prevBoards];\n          let newBoard = newBoards.sort(byTitle);\n          return newBoard;\n        });\n    }\n  }; // const noData = () => {\n  //   if (boards.length === 0) {\n  //     setIsLoading(null)\n  //   }\n  // }\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(SortBy, {\n    sortBoards: sortBoards,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }, boards.map(el => {\n    return /*#__PURE__*/React.createElement(Card.Grid, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Board, {\n      key: el.id,\n      boardTitle: el.title,\n      boardsItems: el.items ? el.items : [],\n      boardsId: el.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }\n    }));\n  })));\n};\n\nexport default BoardsContainer; // function byTitle( a, b ) {\n//   if ( a.title < b.title ){\n//     return -1;\n//   }\n//   if ( a.title > b.title){\n//     return 1;\n//   }\n//   return 0;\n// }\n// function byTitleD( a, b ) {\n//   if ( a.title < b.title ){\n//     return 1;\n//   }\n//   if ( a.title > b.title){\n//     return -1;\n//   }\n//   return 0;\n// }\n// function byDate( a, b ) {\n//   if ( a.date < b.date ){\n//     return -1;\n//   }\n//   if ( a.date > b.date){\n//     return 1;\n//   }\n//   return 0;\n// }\n// function byDateD( a, b ) {\n//   if ( a.date < b.date ){\n//     return 1;\n//   }\n//   if ( a.date > b.date){\n//     return -1;\n//   }\n//   return 0;\n// }","map":{"version":3,"sources":["/Users/dzennetahydyrova/board-project2/board-project/src/containers/boards/BoardsContainer.js"],"names":["React","useState","useEffect","db","Board","BoardsForm","Container","Row","Col","Card","Loading","byTitle","byTitleD","byDate","byDateD","SortBy","BoardsContainer","boards","setBoards","isLoading","setIsLoading","sortedBy","setSortedBy","collection","onSnapshot","snapshot","docChanges","length","forEach","change","type","prevBoards","doc","data","id","newArrBoards","index","findIndex","el","splice","sortBoards","sortBy","newBoards","newBoard","sort","map","title","items"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport db from \"../../firebaseConfig\";\nimport Board from \"../../components/board/Board\";\nimport BoardsForm from \"../../components/boardForm/BoardForm\";\nimport { Container } from \"react-bootstrap\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport \"antd/dist/antd.css\";\nimport {Card} from \"antd\"\nimport Loading from \"../../components/board/Loading\"\nimport {byTitle, byTitleD, byDate, byDateD} from \"../../functions\"\nimport SortBy from '../../components/sortBy/SortBy'\n\nconst BoardsContainer = () => {\n  const [boards, setBoards] = useState([]);\n  const [isLoading, setIsLoading] = useState(true)\n  const [sortedBy, setSortedBy] = useState(\"title\")\n\n  useEffect(() => {\n    return db.collection(\"boards\").onSnapshot((snapshot) => {\n      if (snapshot.docChanges().length === 0){\n        setIsLoading(false)\n      }\n      snapshot.docChanges().forEach((change) => {\n        if (change.type === \"added\") {\n          setBoards((prevBoards) => [\n            ...prevBoards,\n            { ...change.doc.data(), id: change.doc.id },\n          ]);\n          setIsLoading(false)\n        }\n        if (change.type === \"modified\") {\n          setBoards((prevBoards) => {\n            const newArrBoards = [...prevBoards];\n            let index = newArrBoards.findIndex((el) => el.id === change.doc.id);\n            if (index !== -1) {\n              newArrBoards[index] = {\n                ...change.doc.data(),\n                id: change.doc.id,\n              };\n            }\n            return newArrBoards;\n          });\n          setIsLoading(false)\n        }\n        if (change.type === \"removed\") {\n          setBoards((prevBoards) => {\n            const newArrBoards = [...prevBoards];\n            let index = newArrBoards.findIndex((el) => el.id === change.doc.id);\n\n            if (index !== -1) {\n              newArrBoards.splice(index, 1);\n            }\n            return newArrBoards;\n          });\n          \n        }\n      });\n    });\n  }, []);\n\nconst sortBoards = (sortBy) => {\n  switch(sortedBy){\n    case \"title\":\n      setBoards((prevBoards) => {\n        const newBoards = [...prevBoards];\n        let newBoard = newBoards.sort(byTitle)\n        return newBoard\n      })\n\n    \n      break\n    case \"dTitle\":\n      setBoards((prevBoards) => {\n        const newBoards = [...prevBoards];\n        let newBoard = newBoards.sort(byTitleD)\n        return newBoard\n      })\n        break\n    case \"date\":\n      setBoards((prevBoards) => {\n        const newBoards = [...prevBoards];\n        let newBoard = newBoards.sort(byDate)\n        return newBoard\n      })\n      break\n    case \"dDate\":\n      setBoards((prevBoards) => {\n        const newBoards = [...prevBoards];\n        let newBoard = newBoards.sort(byDateD)\n        return newBoard\n      })\n      break\n    default:\n      setBoards((prevBoards) => {\n        const newBoards = [...prevBoards];\n        let newBoard = newBoards.sort(byTitle)\n        return newBoard\n      })\n  }\n}\n    \n\n  // const noData = () => {\n  //   if (boards.length === 0) {\n  //     setIsLoading(null)\n  //   }\n  // }\n\n\n\n\n\n  return (\n    <div>\n      {/* <Container>\n        <Row style={{display:\"flex\", justifyContent: \"center\"}}>\n          {isLoading? <Loading />: null}\n          {/* {setTimeout(noData, 4000)} */}\n        {/* </Row> */} \n\n      \n        <SortBy sortBoards={sortBoards}/>\n        <Row>\n          {boards.map((el) => {\n            return (\n              <Card.Grid>\n                <Board\n                  key={el.id}\n                  boardTitle={el.title}\n                  boardsItems={el.items ? el.items : []}\n                  boardsId={el.id}\n                />\n               </Card.Grid>\n            );\n          })}\n          </Row>\n          {/* <Col>\n            {!isLoading? <BoardsForm sortBoards={setSortedBy}/>: null}\n          </Col>\n        \n          \n      </Container> */}\n    </div>\n  );\n};\n\nexport default BoardsContainer;\n\n\n\n\n// function byTitle( a, b ) {\n//   if ( a.title < b.title ){\n//     return -1;\n//   }\n//   if ( a.title > b.title){\n//     return 1;\n//   }\n//   return 0;\n// }\n\n// function byTitleD( a, b ) {\n//   if ( a.title < b.title ){\n//     return 1;\n//   }\n//   if ( a.title > b.title){\n//     return -1;\n//   }\n//   return 0;\n// }\n\n// function byDate( a, b ) {\n//   if ( a.date < b.date ){\n//     return -1;\n//   }\n//   if ( a.date > b.date){\n//     return 1;\n//   }\n//   return 0;\n// }\n\n// function byDateD( a, b ) {\n//   if ( a.date < b.date ){\n//     return 1;\n//   }\n//   if ( a.date > b.date){\n//     return -1;\n//   }\n//   return 0;\n// }"]},"metadata":{},"sourceType":"module"}