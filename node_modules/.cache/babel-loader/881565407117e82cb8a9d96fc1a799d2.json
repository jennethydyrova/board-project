{"ast":null,"code":"var _jsxFileName = \"/Users/dzennetahydyrova/board-project2/board-project/src/components/EditForm/EditForm.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"antd/dist/antd.css\";\nimport { DeleteOutlined } from \"@ant-design/icons\";\nimport { Collapse } from \"antd\";\nimport db from \"../../firebaseConfig\";\nimport * as firebase from \"firebase/app\";\nimport Modal from \"react-modal\";\nimport { DatePicker, message } from \"antd\";\nimport { Row, Space, Button, Form, Input } from \"antd\";\nimport \"antd/dist/antd.css\";\nimport \"moment/locale/zh-cn\";\nimport moment from \"moment\";\n\nconst EditForm = ({\n  boardsItems,\n  modalOpened,\n  setModalOpened,\n  task,\n  boardsId\n}) => {\n  const currentDate = new Date();\n  currentDate.setDate(currentDate.getDate() + 1);\n  const defaultDate = currentDate.toISOString().substr(0, 10);\n  const [userInput, setUserInput] = useState({\n    title: task.title,\n    due: task.due,\n    assigner: task.assigner,\n    assignee: task.assignee,\n    id: task.id,\n    completed: task.completed\n  });\n\n  const editItem = async () => {\n    const modifiedItems = boardsItems;\n    const itemIndex = modifiedItems.findIndex(item => item.id === task.id);\n    modifiedItems[itemIndex] = userInput;\n    await db.collection(\"boards\").doc(boardsId).update({\n      items: modifiedItems\n    });\n  };\n\n  useEffect(() => {\n    setEditedTask(userInput);\n  }, [userInput]);\n\n  const handleInputValue = e => {\n    setUserInput({ ...userInput,\n      title: e.target.value,\n      id: task.id\n    });\n  };\n\n  const formStyle = {\n    marginTop: \"10px\",\n    marginLeft: \"10px\",\n    marginRight: \"10px\"\n  };\n\n  const handleModal = () => {\n    setModalOpened({\n      modalOpen: modalOpened.modalOpen === true ? false : true\n    });\n  };\n\n  const handleEdit = e => {\n    e.preventDefault();\n    editItem();\n    setModalOpened({\n      modalOpen: modalOpened.modalOpen === true ? false : true\n    });\n  };\n\n  const handleDueChange = value => {\n    message.info(`Selected Date: ${value ? value.format(\"YYYY-MM-DD\") : \"None\"}`);\n    setUserInput({ ...userInput,\n      due: value.toDate().toISOString().substr(0, 10)\n    });\n  };\n\n  const handleAssignerChange = e => {\n    setUserInput({ ...userInput,\n      assigner: e.target.value\n    });\n  };\n\n  const handleAssigneeChange = e => {\n    setUserInput({ ...userInput,\n      assignee: e.target.value\n    });\n  };\n\n  const [editedTask, setEditedTask] = useState(task);\n  return /*#__PURE__*/React.createElement(Modal, {\n    className: \"modal\",\n    isOpen: modalOpened.modalOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Space, {\n    direction: \"vertical\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    name: \"items\",\n    value: userInput.title,\n    className: \"task-title input-field item-input\",\n    placeholder: \"Task title\",\n    onChange: e => handleInputValue(e),\n    style: formStyle,\n    addonBefore: \"Title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(DatePicker, {\n    onChange: e => handleDueChange(e),\n    defaultValue: moment(defaultDate),\n    style: {\n      color: \"white\"\n    },\n    className: \"form-btn\",\n    style: formStyle,\n    addonBefore: \"Due date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    name: \"assigner\",\n    value: userInput.assigner,\n    placeholder: \"Assigner\",\n    onChange: e => handleAssignerChange(e),\n    className: \"input-field item-input\",\n    style: formStyle,\n    addonBefore: \"Assigner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    name: \"assignee\",\n    value: userInput.assignee,\n    placeholder: \"Assignee\",\n    onChange: e => handleAssigneeChange(e),\n    className: \"input-field item-input\",\n    style: formStyle,\n    addonBefore: \"Assignee\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-info\",\n    type: \"submit\",\n    size: \"sm\",\n    onClick: e => handleEdit(e),\n    className: \"form-btn\",\n    style: formStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 21\n    }\n  }, \"Edit task\")), /*#__PURE__*/React.createElement(Button, {\n    className: \"form-btn\",\n    onClick: e => handleModal(e),\n    style: formStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }\n  }, \"Close form\")));\n};\n\nexport default EditForm;","map":{"version":3,"sources":["/Users/dzennetahydyrova/board-project2/board-project/src/components/EditForm/EditForm.js"],"names":["React","useState","useEffect","DeleteOutlined","Collapse","db","firebase","Modal","DatePicker","message","Row","Space","Button","Form","Input","moment","EditForm","boardsItems","modalOpened","setModalOpened","task","boardsId","currentDate","Date","setDate","getDate","defaultDate","toISOString","substr","userInput","setUserInput","title","due","assigner","assignee","id","completed","editItem","modifiedItems","itemIndex","findIndex","item","collection","doc","update","items","setEditedTask","handleInputValue","e","target","value","formStyle","marginTop","marginLeft","marginRight","handleModal","modalOpen","handleEdit","preventDefault","handleDueChange","info","format","toDate","handleAssignerChange","handleAssigneeChange","editedTask","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"antd/dist/antd.css\";\nimport { DeleteOutlined } from \"@ant-design/icons\";\nimport { Collapse } from \"antd\";\nimport db from \"../../firebaseConfig\";\nimport * as firebase from \"firebase/app\";\nimport Modal from \"react-modal\";\nimport { DatePicker, message } from \"antd\";\nimport { Row, Space, Button,  Form, Input } from \"antd\";\nimport \"antd/dist/antd.css\";\nimport \"moment/locale/zh-cn\";\nimport moment from \"moment\";\n\n\nconst EditForm = ({boardsItems, modalOpened, setModalOpened, task, boardsId}) => {\n\n  \n  const currentDate = new Date();\n  currentDate.setDate(currentDate.getDate() + 1);\n  const defaultDate = currentDate.toISOString().substr(0, 10);\n\n\n    const [userInput, setUserInput] = useState({\n      title: task.title,\n      due: task.due,\n      assigner: task.assigner,\n      assignee: task.assignee,\n      id: task.id,\n      completed: task.completed,\n    });\n\n  const editItem = async () => {\n      const modifiedItems = boardsItems;\n      const itemIndex = modifiedItems.findIndex((item) => item.id === task.id);\n      modifiedItems[itemIndex] = userInput;\n\n      await db.collection(\"boards\").doc(boardsId).update({\n          items: modifiedItems,\n      });\n      };\n\n  useEffect(() => {\n      setEditedTask(userInput);\n    }, [userInput]);\n\n  const handleInputValue = (e) => {\n    setUserInput({ ...userInput, title: e.target.value, id: task.id });\n  };\n\n  const formStyle= {\n    marginTop: \"10px\",\n    marginLeft: \"10px\",\n    marginRight: \"10px\"\n  }\n\n  const handleModal = () => {\n    setModalOpened({\n      modalOpen: modalOpened.modalOpen === true ? false : true,\n    });\n  };\n\n  const handleEdit = (e) => {\n    e.preventDefault();\n    editItem();\n    setModalOpened({\n      modalOpen: modalOpened.modalOpen === true ? false : true,\n    });\n  };\n\n  const handleDueChange = (value) => {\n    message.info(\n      `Selected Date: ${value ? value.format(\"YYYY-MM-DD\") : \"None\"}`\n    );\n    setUserInput({\n      ...userInput,\n      due: value.toDate().toISOString().substr(0, 10),\n    });\n  };\n\n  const handleAssignerChange = (e) => {\n      setUserInput({ ...userInput, assigner: e.target.value });\n      };\n\n  const handleAssigneeChange = (e) => {\n      setUserInput({ ...userInput, assignee: e.target.value });\n      };\n\n      const [editedTask, setEditedTask] = useState(task);\n\n      return(\n          <Modal className=\"modal\" isOpen={modalOpened.modalOpen}>\n              <Space direction=\"vertical\" align=\"center\">\n                <Form>\n                    <Input\n                      name=\"items\"\n                      value={userInput.title}\n                      className=\"task-title input-field item-input\"\n                      placeholder=\"Task title\"\n                      onChange={(e) => handleInputValue(e)}\n                      style={formStyle}\n                      addonBefore=\"Title\"\n                    />\n                    <DatePicker\n                      onChange={(e) => handleDueChange(e)}\n                      defaultValue={moment(defaultDate)}\n                      style={{color:\"white\"}}\n                      className=\"form-btn\"\n                      style={formStyle}\n                      addonBefore=\"Due date\"\n                    />\n                    <Input\n                      name=\"assigner\"\n                      value={userInput.assigner}\n                      placeholder=\"Assigner\"\n                      onChange={(e) => handleAssignerChange(e)}\n                      className=\"input-field item-input\"\n                      style={formStyle}\n                      addonBefore=\"Assigner\"\n                    />\n                    <Input\n                      name=\"assignee\"\n                      value={userInput.assignee}\n                      placeholder=\"Assignee\"\n                      onChange={(e) => handleAssigneeChange(e)}\n                      className=\"input-field item-input\"\n                      style={formStyle}\n                      addonBefore=\"Assignee\"\n                    />\n                    <Button\n                      variant=\"outline-info\"\n                      type=\"submit\"\n                      size=\"sm\"\n                      onClick={(e) => handleEdit(e)}\n                      className=\"form-btn\"\n                      style={formStyle}\n                    >\n                      Edit task\n                    </Button>\n                </Form>\n                <Button className=\"form-btn\" \n                onClick={(e) => handleModal(e)}\n                style={formStyle}>Close form</Button>\n              </Space>\n            </Modal>\n      )\n    }\n\nexport default EditForm"]},"metadata":{},"sourceType":"module"}