{"ast":null,"code":"var _jsxFileName = \"/Users/dzennetahydyrova/board-project2/src/components/EditForm/EditForm.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"antd/dist/antd.css\";\nimport db from \"../../firebaseConfig\";\nimport Modal from \"react-modal\";\nimport { DatePicker, message } from \"antd\";\nimport { Space, Button, Form, Input } from \"antd\";\nimport \"antd/dist/antd.css\";\nimport \"moment/locale/zh-cn\";\nimport moment from \"moment\";\n\nconst EditForm = ({\n  boardsItems,\n  modalOpened,\n  setModalOpened,\n  task,\n  boardsId\n}) => {\n  const [editedTask, setEditedTask] = useState(task);\n  const currentDate = new Date();\n  currentDate.setDate(currentDate.getDate() + 1);\n  const defaultDate = currentDate.toISOString().substr(0, 10);\n  const [userInput, setUserInput] = useState({\n    title: task.title,\n    due: task.due,\n    assigner: task.assigner,\n    assignee: task.assignee,\n    id: task.id,\n    completed: task.completed\n  });\n\n  const editItem = async () => {\n    const modifiedItems = boardsItems;\n    const itemIndex = modifiedItems.findIndex(item => item.id === task.id);\n    modifiedItems[itemIndex] = userInput;\n    await db.firestore().collection(\"boards\").doc(boardsId).update({\n      items: modifiedItems\n    });\n  };\n\n  useEffect(() => {\n    setEditedTask(userInput);\n  }, [userInput]);\n\n  const handleInputValue = e => {\n    setUserInput({ ...userInput,\n      title: e.target.value,\n      id: task.id\n    });\n  };\n\n  const formStyle = {\n    marginTop: \"10px\",\n    marginLeft: \"10px\",\n    marginRight: \"10px\"\n  };\n\n  const handleModal = () => {\n    setModalOpened({\n      modalOpen: modalOpened.modalOpen === true ? false : true\n    });\n  };\n\n  const handleEdit = e => {\n    e.preventDefault();\n    editItem(editedTask);\n    setModalOpened({\n      modalOpen: modalOpened.modalOpen === true ? false : true\n    });\n  };\n\n  const handleDueChange = value => {\n    message.info(`Selected Date: ${value ? value.format(\"YYYY-MM-DD\") : \"None\"}`);\n    setUserInput({ ...userInput,\n      due: value.toDate().toISOString().substr(0, 10)\n    });\n  };\n\n  const handleAssignerChange = e => {\n    setUserInput({ ...userInput,\n      assigner: e.target.value\n    });\n  };\n\n  const handleAssigneeChange = e => {\n    setUserInput({ ...userInput,\n      assignee: e.target.value\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Modal, {\n    className: \"modal\",\n    isOpen: modalOpened.modalOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Space, {\n    direction: \"vertical\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    style: formStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    name: \"items\",\n    value: userInput.title,\n    className: \"task-title input-field item-input\",\n    placeholder: \"Task title\",\n    onChange: e => handleInputValue(e),\n    addonBefore: \"Title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(DatePicker, {\n    onChange: e => handleDueChange(e),\n    defaultValue: moment(defaultDate),\n    style: {\n      color: \"white\"\n    },\n    className: \"form-btn\",\n    addonBefore: \"Due date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    name: \"assigner\",\n    value: userInput.assigner,\n    placeholder: \"Assigner\",\n    onChange: e => handleAssignerChange(e),\n    className: \"input-field item-input\",\n    addonBefore: \"Assigner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    name: \"assignee\",\n    value: userInput.assignee,\n    placeholder: \"Assignee\",\n    onChange: e => handleAssigneeChange(e),\n    className: \"input-field item-input\",\n    addonBefore: \"Assignee\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-info\",\n    type: \"submit\",\n    size: \"sm\",\n    onClick: e => handleEdit(e),\n    className: \"form-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, \"Edit task\")), /*#__PURE__*/React.createElement(Button, {\n    className: \"form-btn\",\n    onClick: e => handleModal(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }\n  }, \"Close form\")));\n};\n\nexport default EditForm;","map":{"version":3,"sources":["/Users/dzennetahydyrova/board-project2/src/components/EditForm/EditForm.js"],"names":["React","useState","useEffect","db","Modal","DatePicker","message","Space","Button","Form","Input","moment","EditForm","boardsItems","modalOpened","setModalOpened","task","boardsId","editedTask","setEditedTask","currentDate","Date","setDate","getDate","defaultDate","toISOString","substr","userInput","setUserInput","title","due","assigner","assignee","id","completed","editItem","modifiedItems","itemIndex","findIndex","item","firestore","collection","doc","update","items","handleInputValue","e","target","value","formStyle","marginTop","marginLeft","marginRight","handleModal","modalOpen","handleEdit","preventDefault","handleDueChange","info","format","toDate","handleAssignerChange","handleAssigneeChange","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"antd/dist/antd.css\";\nimport db from \"../../firebaseConfig\";\nimport Modal from \"react-modal\";\nimport { DatePicker, message } from \"antd\";\nimport { Space, Button, Form, Input } from \"antd\";\nimport \"antd/dist/antd.css\";\nimport \"moment/locale/zh-cn\";\nimport moment from \"moment\";\n\nconst EditForm = ({\n  boardsItems,\n  modalOpened,\n  setModalOpened,\n  task,\n  boardsId,\n}) => {\n  const [editedTask, setEditedTask] = useState(task);\n  const currentDate = new Date();\n  currentDate.setDate(currentDate.getDate() + 1);\n  const defaultDate = currentDate.toISOString().substr(0, 10);\n\n  const [userInput, setUserInput] = useState({\n    title: task.title,\n    due: task.due,\n    assigner: task.assigner,\n    assignee: task.assignee,\n    id: task.id,\n    completed: task.completed,\n  });\n\n  const editItem = async () => {\n    const modifiedItems = boardsItems;\n    const itemIndex = modifiedItems.findIndex((item) => item.id === task.id);\n    modifiedItems[itemIndex] = userInput;\n\n    await db.firestore().collection(\"boards\").doc(boardsId).update({\n      items: modifiedItems,\n    });\n  };\n\n  useEffect(() => {\n    setEditedTask(userInput);\n  }, [userInput]);\n\n  const handleInputValue = (e) => {\n    setUserInput({ ...userInput, title: e.target.value, id: task.id });\n  };\n\n  const formStyle = {\n    marginTop: \"10px\",\n    marginLeft: \"10px\",\n    marginRight: \"10px\",\n  };\n\n  const handleModal = () => {\n    setModalOpened({\n      modalOpen: modalOpened.modalOpen === true ? false : true,\n    });\n  };\n\n  const handleEdit = (e) => {\n    e.preventDefault();\n    editItem(editedTask);\n    setModalOpened({\n      modalOpen: modalOpened.modalOpen === true ? false : true,\n    });\n  };\n\n  const handleDueChange = (value) => {\n    message.info(\n      `Selected Date: ${value ? value.format(\"YYYY-MM-DD\") : \"None\"}`\n    );\n    setUserInput({\n      ...userInput,\n      due: value.toDate().toISOString().substr(0, 10),\n    });\n  };\n\n  const handleAssignerChange = (e) => {\n    setUserInput({ ...userInput, assigner: e.target.value });\n  };\n\n  const handleAssigneeChange = (e) => {\n    setUserInput({ ...userInput, assignee: e.target.value });\n  };\n\n  return (\n    <Modal className=\"modal\" isOpen={modalOpened.modalOpen}>\n      <Space direction=\"vertical\" align=\"center\">\n        <Form style={formStyle}>\n          <Input\n            name=\"items\"\n            value={userInput.title}\n            className=\"task-title input-field item-input\"\n            placeholder=\"Task title\"\n            onChange={(e) => handleInputValue(e)}\n            addonBefore=\"Title\"\n          />\n          <DatePicker\n            onChange={(e) => handleDueChange(e)}\n            defaultValue={moment(defaultDate)}\n            style={{ color: \"white\" }}\n            className=\"form-btn\"\n            addonBefore=\"Due date\"\n          />\n          <Input\n            name=\"assigner\"\n            value={userInput.assigner}\n            placeholder=\"Assigner\"\n            onChange={(e) => handleAssignerChange(e)}\n            className=\"input-field item-input\"\n            addonBefore=\"Assigner\"\n          />\n          <Input\n            name=\"assignee\"\n            value={userInput.assignee}\n            placeholder=\"Assignee\"\n            onChange={(e) => handleAssigneeChange(e)}\n            className=\"input-field item-input\"\n            addonBefore=\"Assignee\"\n          />\n          <Button\n            variant=\"outline-info\"\n            type=\"submit\"\n            size=\"sm\"\n            onClick={(e) => handleEdit(e)}\n            className=\"form-btn\"\n          >\n            Edit task\n          </Button>\n        </Form>\n        <Button className=\"form-btn\" onClick={(e) => handleModal(e)}>\n          Close form\n        </Button>\n      </Space>\n    </Modal>\n  );\n};\n\nexport default EditForm;\n"]},"metadata":{},"sourceType":"module"}