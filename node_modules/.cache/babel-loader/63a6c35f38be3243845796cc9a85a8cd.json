{"ast":null,"code":"var _jsxFileName = \"/Users/dzennetahydyrova/board-project2/board-project/src/components/EditForm/EditForm.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"antd/dist/antd.css\";\nimport db from \"../../firebaseConfig\";\nimport Modal from \"react-modal\";\nimport { DatePicker, message } from \"antd\";\nimport { Space, Button, Form, Input } from \"antd\";\nimport \"antd/dist/antd.css\";\nimport \"moment/locale/zh-cn\";\nimport moment from \"moment\";\n\nconst EditForm = ({\n  boardsItems,\n  modalOpened,\n  setModalOpened,\n  task,\n  boardsId\n}) => {\n  const currentDate = new Date();\n  currentDate.setDate(currentDate.getDate() + 1);\n  const defaultDate = currentDate.toISOString().substr(0, 10);\n  const [userInput, setUserInput] = useState({\n    title: task.title,\n    due: task.due,\n    assigner: task.assigner,\n    assignee: task.assignee,\n    id: task.id,\n    completed: task.completed\n  });\n\n  const editItem = async () => {\n    const modifiedItems = boardsItems;\n    const itemIndex = modifiedItems.findIndex(item => item.id === task.id);\n    modifiedItems[itemIndex] = userInput;\n    await db.firestore().collection(\"boards\").doc(boardsId).update({\n      items: modifiedItems\n    });\n  };\n\n  useEffect(() => {\n    setEditedTask(userInput);\n  }, [userInput]);\n\n  const handleInputValue = e => {\n    setUserInput({ ...userInput,\n      title: e.target.value,\n      id: task.id\n    });\n  };\n\n  const formStyle = {\n    marginTop: \"10px\",\n    marginLeft: \"10px\",\n    marginRight: \"10px\"\n  };\n\n  const handleModal = () => {\n    setModalOpened({\n      modalOpen: modalOpened.modalOpen === true ? false : true\n    });\n  };\n\n  const handleEdit = e => {\n    e.preventDefault();\n    editItem();\n    setModalOpened({\n      modalOpen: modalOpened.modalOpen === true ? false : true\n    });\n  };\n\n  const handleDueChange = value => {\n    message.info(`Selected Date: ${value ? value.format(\"YYYY-MM-DD\") : \"None\"}`);\n    setUserInput({ ...userInput,\n      due: value.toDate().toISOString().substr(0, 10)\n    });\n  };\n\n  const handleAssignerChange = e => {\n    setUserInput({ ...userInput,\n      assigner: e.target.value\n    });\n  };\n\n  const handleAssigneeChange = e => {\n    setUserInput({ ...userInput,\n      assignee: e.target.value\n    });\n  };\n\n  const [editedTask, setEditedTask] = useState(task);\n  return /*#__PURE__*/React.createElement(Modal, {\n    className: \"modal\",\n    isOpen: modalOpened.modalOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Space, {\n    direction: \"vertical\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    name: \"items\",\n    value: userInput.title,\n    className: \"task-title input-field item-input\",\n    placeholder: \"Task title\",\n    onChange: e => handleInputValue(e),\n    style: formStyle,\n    addonBefore: \"Title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(DatePicker, {\n    onChange: e => handleDueChange(e),\n    defaultValue: moment(defaultDate),\n    style: {\n      color: \"white\"\n    },\n    className: \"form-btn\",\n    style: formStyle,\n    addonBefore: \"Due date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    name: \"assigner\",\n    value: userInput.assigner,\n    placeholder: \"Assigner\",\n    onChange: e => handleAssignerChange(e),\n    className: \"input-field item-input\",\n    style: formStyle,\n    addonBefore: \"Assigner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    name: \"assignee\",\n    value: userInput.assignee,\n    placeholder: \"Assignee\",\n    onChange: e => handleAssigneeChange(e),\n    className: \"input-field item-input\",\n    style: formStyle,\n    addonBefore: \"Assignee\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-info\",\n    type: \"submit\",\n    size: \"sm\",\n    onClick: e => handleEdit(e),\n    className: \"form-btn\",\n    style: formStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }, \"Edit task\")), /*#__PURE__*/React.createElement(Button, {\n    className: \"form-btn\",\n    onClick: e => handleModal(e),\n    style: formStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }\n  }, \"Close form\")));\n};\n\nexport default EditForm;","map":{"version":3,"sources":["/Users/dzennetahydyrova/board-project2/board-project/src/components/EditForm/EditForm.js"],"names":["React","useState","useEffect","db","Modal","DatePicker","message","Space","Button","Form","Input","moment","EditForm","boardsItems","modalOpened","setModalOpened","task","boardsId","currentDate","Date","setDate","getDate","defaultDate","toISOString","substr","userInput","setUserInput","title","due","assigner","assignee","id","completed","editItem","modifiedItems","itemIndex","findIndex","item","firestore","collection","doc","update","items","setEditedTask","handleInputValue","e","target","value","formStyle","marginTop","marginLeft","marginRight","handleModal","modalOpen","handleEdit","preventDefault","handleDueChange","info","format","toDate","handleAssignerChange","handleAssigneeChange","editedTask","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"antd/dist/antd.css\";\nimport db from \"../../firebaseConfig\";\nimport Modal from \"react-modal\";\nimport { DatePicker, message } from \"antd\";\nimport { Space, Button, Form, Input } from \"antd\";\nimport \"antd/dist/antd.css\";\nimport \"moment/locale/zh-cn\";\nimport moment from \"moment\";\n\nconst EditForm = ({\n  boardsItems,\n  modalOpened,\n  setModalOpened,\n  task,\n  boardsId,\n}) => {\n  const currentDate = new Date();\n  currentDate.setDate(currentDate.getDate() + 1);\n  const defaultDate = currentDate.toISOString().substr(0, 10);\n\n  const [userInput, setUserInput] = useState({\n    title: task.title,\n    due: task.due,\n    assigner: task.assigner,\n    assignee: task.assignee,\n    id: task.id,\n    completed: task.completed,\n  });\n\n  const editItem = async () => {\n    const modifiedItems = boardsItems;\n    const itemIndex = modifiedItems.findIndex((item) => item.id === task.id);\n    modifiedItems[itemIndex] = userInput;\n\n    await db.firestore().collection(\"boards\").doc(boardsId).update({\n      items: modifiedItems,\n    });\n  };\n\n  useEffect(() => {\n    setEditedTask(userInput);\n  }, [userInput]);\n\n  const handleInputValue = (e) => {\n    setUserInput({ ...userInput, title: e.target.value, id: task.id });\n  };\n\n  const formStyle = {\n    marginTop: \"10px\",\n    marginLeft: \"10px\",\n    marginRight: \"10px\",\n  };\n\n  const handleModal = () => {\n    setModalOpened({\n      modalOpen: modalOpened.modalOpen === true ? false : true,\n    });\n  };\n\n  const handleEdit = (e) => {\n    e.preventDefault();\n    editItem();\n    setModalOpened({\n      modalOpen: modalOpened.modalOpen === true ? false : true,\n    });\n  };\n\n  const handleDueChange = (value) => {\n    message.info(\n      `Selected Date: ${value ? value.format(\"YYYY-MM-DD\") : \"None\"}`\n    );\n    setUserInput({\n      ...userInput,\n      due: value.toDate().toISOString().substr(0, 10),\n    });\n  };\n\n  const handleAssignerChange = (e) => {\n    setUserInput({ ...userInput, assigner: e.target.value });\n  };\n\n  const handleAssigneeChange = (e) => {\n    setUserInput({ ...userInput, assignee: e.target.value });\n  };\n\n  const [editedTask, setEditedTask] = useState(task);\n\n  return (\n    <Modal className=\"modal\" isOpen={modalOpened.modalOpen}>\n      <Space direction=\"vertical\" align=\"center\">\n        <Form>\n          <Input\n            name=\"items\"\n            value={userInput.title}\n            className=\"task-title input-field item-input\"\n            placeholder=\"Task title\"\n            onChange={(e) => handleInputValue(e)}\n            style={formStyle}\n            addonBefore=\"Title\"\n          />\n          <DatePicker\n            onChange={(e) => handleDueChange(e)}\n            defaultValue={moment(defaultDate)}\n            style={{ color: \"white\" }}\n            className=\"form-btn\"\n            style={formStyle}\n            addonBefore=\"Due date\"\n          />\n          <Input\n            name=\"assigner\"\n            value={userInput.assigner}\n            placeholder=\"Assigner\"\n            onChange={(e) => handleAssignerChange(e)}\n            className=\"input-field item-input\"\n            style={formStyle}\n            addonBefore=\"Assigner\"\n          />\n          <Input\n            name=\"assignee\"\n            value={userInput.assignee}\n            placeholder=\"Assignee\"\n            onChange={(e) => handleAssigneeChange(e)}\n            className=\"input-field item-input\"\n            style={formStyle}\n            addonBefore=\"Assignee\"\n          />\n          <Button\n            variant=\"outline-info\"\n            type=\"submit\"\n            size=\"sm\"\n            onClick={(e) => handleEdit(e)}\n            className=\"form-btn\"\n            style={formStyle}\n          >\n            Edit task\n          </Button>\n        </Form>\n        <Button\n          className=\"form-btn\"\n          onClick={(e) => handleModal(e)}\n          style={formStyle}\n        >\n          Close form\n        </Button>\n      </Space>\n    </Modal>\n  );\n};\n\nexport default EditForm;\n"]},"metadata":{},"sourceType":"module"}