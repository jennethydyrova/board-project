{"ast":null,"code":"import _regeneratorRuntime from\"/Users/dzennetahydyrova/board-project2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/dzennetahydyrova/board-project2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/dzennetahydyrova/board-project2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import Items from\"../../containers/items/Items\";import db from\"../../firebaseConfig\";import{Card,Col,Row,Button,Typography,Input}from\"antd\";import{EditOutlined}from\"@ant-design/icons\";var ListView=function ListView(_ref){var boardTitle=_ref.boardTitle,boardsItems=_ref.boardsItems,boardsId=_ref.boardsId;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),editing=_useState2[0],setEditing=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),userInput=_useState4[0],setUserInput=_useState4[1];var Title=Typography.Title;var handleClick=function handleClick(e){e.preventDefault();db.firestore().collection(\"boards\").doc(boardsId).delete();};var handleEdit=function handleEdit(){setEditing(true);};var handleEnter=function handleEnter(e){console.log(e.key);if(e.key===\"Enter\"){setEditing(false);editTitle();setUserInput(\"\");}else if(e.key===\"Escape\"){setUserInput(\"\");setEditing(false);}};var handleBlur=function handleBlur(){setUserInput(\"\");setEditing(false);};var handleChange=function handleChange(e){setUserInput(e.target.value);};var editTitle=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var newTitle;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:newTitle=userInput;_context.next=3;return db.firestore().collection(\"boards\").doc(boardsId).update({title:newTitle});case 3:case\"end\":return _context.stop();}}},_callee);}));return function editTitle(){return _ref2.apply(this,arguments);};}();var theTitle=/*#__PURE__*/React.createElement(Title,{style:{color:\"white\"},level:2},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{span:10},boardTitle),/*#__PURE__*/React.createElement(Col,{span:2,offset:10},/*#__PURE__*/React.createElement(Button,{className:\"form-btn\",onClick:handleEdit},/*#__PURE__*/React.createElement(EditOutlined,null)))));var editingTitle=/*#__PURE__*/React.createElement(Title,{style:{color:\"white\"},level:2},/*#__PURE__*/React.createElement(Input,{placeholder:\"Enter new title name (Esc to cancel)\",className:\"input-field\",onKeyDown:function onKeyDown(e){return handleEnter(e);},onChange:function onChange(e){return handleChange(e);},onBlur:handleBlur}));var cardTitle=editing?editingTitle:theTitle;return/*#__PURE__*/React.createElement(Card,{title:cardTitle,bordered:false,style:{borderRadius:\"10px\"},className:\"card\"},/*#__PURE__*/React.createElement(Items,{boardTitle:boardTitle,boardsId:boardsId,boardsItems:boardsItems}),/*#__PURE__*/React.createElement(Button,{variant:\"outline-info\",type:\"submit\",size:\"sm\",onClick:function onClick(e){return handleClick(e);}},\"Delete Board\"));};export default ListView;","map":{"version":3,"sources":["/Users/dzennetahydyrova/board-project2/src/components/listView/index.js"],"names":["React","useState","Items","db","Card","Col","Row","Button","Typography","Input","EditOutlined","ListView","boardTitle","boardsItems","boardsId","editing","setEditing","userInput","setUserInput","Title","handleClick","e","preventDefault","firestore","collection","doc","delete","handleEdit","handleEnter","console","log","key","editTitle","handleBlur","handleChange","target","value","newTitle","update","title","theTitle","color","editingTitle","cardTitle","borderRadius"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport Items from \"../../containers/items/Items\";\nimport db from \"../../firebaseConfig\";\nimport { Card, Col, Row, Button, Typography, Input } from \"antd\";\nimport { EditOutlined } from \"@ant-design/icons\";\n\nconst ListView = ({ boardTitle, boardsItems, boardsId }) => {\n  const [editing, setEditing] = useState(false);\n  const [userInput, setUserInput] = useState(\"\");\n  const { Title } = Typography;\n  const handleClick = (e) => {\n    e.preventDefault();\n    db.firestore().collection(\"boards\").doc(boardsId).delete();\n  };\n\n  const handleEdit = () => {\n    setEditing(true);\n  };\n\n  const handleEnter = (e) => {\n    console.log(e.key);\n    if (e.key === \"Enter\") {\n      setEditing(false);\n      editTitle();\n      setUserInput(\"\");\n    } else if (e.key === \"Escape\") {\n      setUserInput(\"\");\n      setEditing(false);\n    }\n  };\n\n  const handleBlur = () => {\n    setUserInput(\"\");\n    setEditing(false);\n  };\n\n  const handleChange = (e) => {\n    setUserInput(e.target.value);\n  };\n\n  const editTitle = async () => {\n    const newTitle = userInput;\n    await db.firestore().collection(\"boards\").doc(boardsId).update({\n      title: newTitle,\n    });\n  };\n\n  const theTitle = (\n    <Title style={{ color: \"white\" }} level={2}>\n      <Row>\n        <Col span={10}>{boardTitle}</Col>\n        <Col span={2} offset={10}>\n          <Button className=\"form-btn\" onClick={handleEdit}>\n            <EditOutlined />\n          </Button>\n        </Col>\n      </Row>\n    </Title>\n  );\n  const editingTitle = (\n    <Title style={{ color: \"white\" }} level={2}>\n      <Input\n        placeholder=\"Enter new title name (Esc to cancel)\"\n        className=\"input-field\"\n        onKeyDown={(e) => handleEnter(e)}\n        onChange={(e) => handleChange(e)}\n        onBlur={handleBlur}\n      />\n    </Title>\n  );\n\n  const cardTitle = editing ? editingTitle : theTitle;\n\n  return (\n    <Card\n      title={cardTitle}\n      bordered={false}\n      style={{ borderRadius: \"10px\" }}\n      className=\"card\"\n    >\n      <Items\n        boardTitle={boardTitle}\n        boardsId={boardsId}\n        boardsItems={boardsItems}\n      />\n      <Button\n        variant=\"outline-info\"\n        type=\"submit\"\n        size=\"sm\"\n        onClick={(e) => handleClick(e)}\n      >\n        Delete Board\n      </Button>\n    </Card>\n  );\n};\n\nexport default ListView;\n"]},"metadata":{},"sourceType":"module"}